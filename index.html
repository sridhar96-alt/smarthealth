<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Healify - Smart Health App</title>

<style>
body{
  font-family: Arial;
  margin:0;
  background:#f4f4f4;
}

header{
  background:#2E8B57;
  color:white;
  padding:15px;
  text-align:center;
  font-size:22px;
}
<button id="installAppBtn" style="
position:fixed;
top:15px;
right:15px;
background:#fff;
color:#2E8B57;
border:none;
padding:8px 12px;
border-radius:6px;
font-weight:bold;
display:none;
cursor:pointer;">
ğŸ“¥ Download App
</button>
  
.container{
  padding:15px;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
  gap:15px;
}

.card{
  background:white;
  padding:15px;
  border-radius:10px;
  box-shadow:0 2px 6px rgba(0,0,0,0.2);
}

button{
  background:#2E8B57;
  color:white;
  border:none;
  padding:8px;
  width:100%;
  margin-top:5px;
  cursor:pointer;
  border-radius:5px;
}

input,select{
  width:100%;
  padding:7px;
  margin:5px 0;
}

#riskBox{
  padding:10px;
  color:white;
  text-align:center;
  border-radius:8px;
}

/* AI Chat */
#aiBtn{
 position:fixed;
 bottom:20px;
 right:20px;
 background:#2E8B57;
 color:white;
 border:none;
 padding:15px;
 border-radius:50%;
 font-size:20px;
 cursor:pointer;
}

#aiChat{
 display:none;
 position:fixed;
 bottom:80px;
 right:20px;
 width:300px;
 background:white;
 border-radius:10px;
 box-shadow:0 5px 15px rgba(0,0,0,0.3);
}

#aiHeader{
 background:#2E8B57;
 color:white;
 padding:10px;
}

#aiMessages{
 height:200px;
 overflow-y:auto;
 padding:10px;
 font-size:14px;
}
</style>
</head>

  <script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('service-worker.js')
    .then(() => console.log("Service Worker Registered"));
}
</script>
<body>

<header>ğŸŒ¿ Healify - Smart Health App</header>

<div class="container">

<!-- Daily Entry -->
<div class="card">
<h3>ğŸ“… Daily Entry</h3>
<input type="number" id="water" placeholder="Water (glasses)">
<input type="number" id="sleep" placeholder="Sleep (hours)">
<input type="number" id="exercise" placeholder="Exercise (minutes)">
<select id="mood">
<option>Happy</option>
<option>Sad</option>
<option>Stressed</option>
<option>Energetic</option>
</select>
<button onclick="saveEntry()">Save Entry</button>
<p id="streak"></p>
</div>

<!-- BMI -->
<div class="card">
<h3>âš–ï¸ BMI Calculator</h3>
<input type="number" id="height" placeholder="Height (cm)">
<input type="number" id="weight" placeholder="Weight (kg)">
<button onclick="calcBMI()">Calculate</button>
<p id="bmiResult"></p>
</div>

<!-- Weekly Avg -->
<div class="card">
<h3>ğŸ“Š Weekly Average</h3>
<p id="weeklyAvg">No data</p>
</div>

<!-- Insight -->
<div class="card">
<h3>ğŸ’¡ Habit Insights</h3>
<p id="insight">No data</p>
</div>

<!-- Risk -->
<div class="card">
<h3>ğŸš¨ Health Risk</h3>
<div id="riskBox">Low</div>
</div>

<!-- Gamification -->
<div class="card">
<h3>ğŸ® Points</h3>
<p>Points: <span id="points">0</span></p>
</div>

<!-- Mood -->
<div class="card">
<h3>ğŸ˜Š Mood Count</h3>
<p id="moodCount">Happy:0 | Sad:0 | Stressed:0 | Energetic:0</p>
</div>

<!-- Voice -->
<div class="card">
<h3>ğŸ¤ Voice Input</h3>
<button onclick="voice()">Start Voice</button>
<p id="voiceText"></p>
</div>

<!-- Wearable -->
<div class="card">
<h3>âŒš Wearable Sync</h3>
<button onclick="wearable()">Sync Steps</button>
<p id="steps"></p>
</div>

</div>

<!-- AI CHAT -->
<button id="aiBtn" onclick="toggleAI()">ğŸ’¬</button>

<div id="aiChat">
  <div id="aiHeader">Healify AI</div>
  <div id="aiMessages"></div>
  <input id="aiInput" placeholder="Ask about health...">
  <button onclick="sendAI()">Send</button>
</div>

<script>
let points=0, streak=0;
let moodData={Happy:0,Sad:0,Stressed:0,Energetic:0};

function saveEntry(){
 let w=+water.value;
 let s=+sleep.value;
 let e=+exercise.value;
 let m=mood.value;

 if(!w||!s||!e){ alert("Fill all fields"); return; }

 points+=10;
 streak++;
 pointsSpan();
 moodData[m]++;
 updateMood();
 insight(w,s,e);
 risk(w,s,e);
 weekly(w,s,e);
}

function pointsSpan(){
 document.getElementById("points").innerText=points;
 document.getElementById("streak").innerText="ğŸ”¥ Streak: "+streak;
}

function calcBMI(){
 let h=height.value/100;
 let bmi=(weight.value/(h*h)).toFixed(2);
 bmiResult.innerText="BMI: "+bmi;
}

function insight(w,s,e){
 let msg="";
 if(w<6) msg+="Drink more water. ";
 if(s<7) msg+="Sleep more. ";
 if(e<30) msg+="Exercise more. ";
 if(msg==="") msg="Excellent habits!";
 document.getElementById("insight").innerText=msg;
}

function risk(w,s,e){
 let box=document.getElementById("riskBox");
 if(w>=6 && s>=7 && e>=30){
   box.innerText="Low Risk";
   box.style.background="green";
 }else if(w>=4 && s>=5){
   box.innerText="Moderate";
   box.style.background="orange";
 }else{
   box.innerText="High Risk";
   box.style.background="red";
 }
}

function weekly(w,s,e){
 let avg=((w+s+e)/3).toFixed(2);
 document.getElementById("weeklyAvg").innerText="Average: "+avg;
}

function updateMood(){
 document.getElementById("moodCount").innerText=
 `Happy:${moodData.Happy} | Sad:${moodData.Sad} | Stressed:${moodData.Stressed} | Energetic:${moodData.Energetic}`;
}

function voice(){
 let rec=new(window.SpeechRecognition||window.webkitSpeechRecognition)();
 rec.onresult=e=>voiceText.innerText=e.results[0][0].transcript;
 rec.start();
}

function wearable(){
 let steps=Math.floor(Math.random()*10000);
 document.getElementById("steps").innerText="Steps: "+steps;
}

/* AI CHAT */
function toggleAI(){
 aiChat.style.display= aiChat.style.display==="block"?"none":"block";
}

function sendAI(){
 let msg=aiInput.value.toLowerCase();
 if(!msg) return;
 addAI("You",msg);
 addAI("Healify",reply(msg));
 aiInput.value="";
}

function addAI(sender,text){
 aiMessages.innerHTML+=`<p><b>${sender}:</b> ${text}</p>`;
 aiMessages.scrollTop=aiMessages.scrollHeight;
}

function reply(msg){
 if(msg.includes("bmi")) return "Use BMI calculator above.";
 if(msg.includes("water")) return "Drink 8 glasses daily.";
 if(msg.includes("sleep")) return "Sleep 7â€“8 hours.";
 if(msg.includes("exercise")) return "Do 30 minutes activity.";
 return "Ask about health, BMI, sleep, or fitness.";
}
</script>

  <script>
let deferredPrompt;

window.addEventListener("beforeinstallprompt", (e) => {
  e.preventDefault();
  deferredPrompt = e;
  document.getElementById("installAppBtn").style.display = "block";
});

document.getElementById("installAppBtn").addEventListener("click", async () => {
  if (deferredPrompt) {
    deferredPrompt.prompt();
    const choice = await deferredPrompt.userChoice;
    if (choice.outcome === "accepted") {
      alert("ğŸ‰ Healify installed successfully!");
    }
    deferredPrompt = null;
  }
});
</script>
  
</body>
</html>


